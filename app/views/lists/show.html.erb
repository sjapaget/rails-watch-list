<div class="container d-flex flex-column bg-secondary bg-gradient mt-2">
  <div data-controller="show-new-bookmark" id="data controller">
  <div class="row justify-content-between mt-1">
    <div class="col-6">
      <h1 class="text-white"><%= @list.name %> (<%= pluralize(@list.movies.size, "movie") %>)</h1>
    </div>
        <div class="col-3 mt-2">
          <button class="btn btn-dark" data-action="click->show-new-bookmark#reveal">Add a movie</button>
        </div>
      </div>
      <div data-show-new-bookmark-target="form" class="new_bookmark form-hidden justify-content-center text-white bg-dark bg-gradient border rounded p-0">
        <%= render "bookmarks/form", list: @list, bookmark: @bookmark%>
      </div>
    </div>


  <div class="row justify-content-center">
    <% @bookmarks.each do |bookmark| %>
      <div class="card col-3 p-1 m-1 d-flex flex-column align-items-center justify-content-between">
        <div class="d-flex flex-column align-items-center">
          <h4 class="card-title"><%= bookmark.movie.title %></h4>
          <%= image_tag bookmark.movie.poster_url, class: "w-50 " %>
        </div>
        <div class="mt-1">
          <p><%= bookmark.comment %></p>
        </div>
        <div class="d-flex justify-content-evenly w-100 mt-1">
          <p>Rating: <%= bookmark.movie.rating %></p>
          <%= link_to bookmark_path(bookmark), data: {turbo_method: :delete, turbo_confirm: "Sure?"} do  %>
          <i class="fa-solid fa-trash"></i>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>

</div>
